import React, { useState } from "react";
import { PremiumPopup } from "../../components/ui/PremiumPopup";
export const ParentGateScreen = ({ onNavigate, targetScreen }: any) => {
  const [isSuccess, setIsSuccess] = useState(false);

  const checkAnswer = (val: number) => {
    if (val === 34) {
      // 9 + 25
      setIsSuccess(true);
      const style =
        "border-2 border-green-500 py-4 rounded-2xl text-2xl text-green-700 font-bold bg-green-100";
      // setTimeout(() => onNavigate(targetScreen), 1500);
    }
  };

  return (
    <div className="h-full flex flex-col items-center justify-center p-6 text-center">
      {/* add svg at left corner of screen*/}
      <div className="absolute top-6 left-6 mt-12">
        <button
          onClick={() => onNavigate("visual-games")}
          className="cursor-pointer"
        >
          <svg
            width="48"
            height="50"
            viewBox="0 0 48 50"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            {" "}
            <g filter="url(#filter0_d_227_2752)">
              {" "}
              <rect
                width="48"
                height="48"
                rx="24"
                fill="#FCFDFF"
                shapeRendering="crispEdges"
              />{" "}
              <rect
                x="0.5"
                y="0.5"
                width="47"
                height="47"
                rx="23.5"
                stroke="#488DFF"
                shapeRendering="crispEdges"
              />{" "}
              <path
                d="M17.001 17L31 30.9991"
                stroke="#488DFF"
                strokeWidth="1.5"
                strokeLinecap="round"
                strokeLinejoin="round"
              />{" "}
              <path
                d="M17 30.9991L30.999 17"
                stroke="#488DFF"
                strokeWidth="1.5"
                strokeLinecap="round"
                strokeLinejoin="round"
              />{" "}
            </g>{" "}
            <defs>
              {" "}
              <filter
                id="filter0_d_227_2752"
                x="0"
                y="0"
                width="48"
                height="50"
                filterUnits="userSpaceOnUse"
                colorInterpolationFilters="sRGB"
              >
                {" "}
                <feFlood floodOpacity="0" result="BackgroundImageFix" />{" "}
                <feColorMatrix
                  in="SourceAlpha"
                  type="matrix"
                  values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                  result="hardAlpha"
                />{" "}
                <feOffset dy="2" />{" "}
                <feComposite in2="hardAlpha" operator="out" />{" "}
                <feColorMatrix
                  type="matrix"
                  values="0 0 0 0 0.4 0 0 0 0 0.627451 0 0 0 0 1 0 0 0 1 0"
                />{" "}
                <feBlend
                  mode="normal"
                  in2="BackgroundImageFix"
                  result="effect1_dropShadow_227_2752"
                />{" "}
                <feBlend
                  mode="normal"
                  in="SourceGraphic"
                  in2="effect1_dropShadow_227_2752"
                  result="shape"
                />{" "}
              </filter>{" "}
            </defs>{" "}
          </svg>
        </button>
      </div>

      {!isSuccess ? (
        <>
          <div className="mb-8 text-4xl bg-gray-300 rounded-full w-15 h-15 flex items-center justify-center text-white">
            <svg
              width="32"
              height="32"
              viewBox="0 0 32 32"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M8 13.3333V10.6667C8 6.25333 9.33333 2.66667 16 2.66667C22.6667 2.66667 24 6.25333 24 10.6667V13.3333"
                stroke="#256EE8"
                strokeWidth="2"
                strokeLinecap="round"
                strokeLinejoin="round"
              />
              <path
                d="M22.667 29.3333H9.33366C4.00033 29.3333 2.66699 28 2.66699 22.6667V20C2.66699 14.6667 4.00033 13.3333 9.33366 13.3333H22.667C28.0003 13.3333 29.3337 14.6667 29.3337 20V22.6667C29.3337 28 28.0003 29.3333 22.667 29.3333Z"
                stroke="#256EE8"
                strokeWidth="2"
                strokeLinecap="round"
                strokeLinejoin="round"
              />
              <path
                d="M21.3283 21.3333H21.3403"
                stroke="#256EE8"
                strokeWidth="2.66667"
                strokeLinecap="round"
                strokeLinejoin="round"
              />
              <path
                d="M15.9943 21.3333H16.0063"
                stroke="#256EE8"
                strokeWidth="2.66667"
                strokeLinecap="round"
                strokeLinejoin="round"
              />
              <path
                d="M10.6593 21.3333H10.6713"
                stroke="#256EE8"
                strokeWidth="2.66667"
                strokeLinecap="round"
                strokeLinejoin="round"
              />
            </svg>
          </div>
          <h2 className="text-2xl font-bold mb-4">تحقق ولي الأمر</h2>
          <p className="text-gray-500 mb-12 text-lg">
            للمتابعة، يرجى حل المسألة الحسابية
          </p>
          <p className="text-2xl mb-4 font-medium text-gray-700">
            ما هو ناتج العملية الحسابية؟
          </p>
          <div className="text-3xl font-bold mb-8 text-gray-900  font-mono bg-gray-200 py-4 px-3 rounded-2xl text-center border-2 border-gray-100">
            ? = 9 + 25
          </div>
          <div className="grid grid-cols-2 gap-4 w-1/2 border-gray-700 ">
            {[12, 34, 55, 47].map((num) => (
              <button
                key={num}
                onClick={() => checkAnswer(num)}
                className="border-2 border-gray-300 py-4 rounded-2xl text-2xl text-gray-800 font-bold hover:bg-blue-50"
              >
                {num}
              </button>
            ))}
          </div>
          <p className="text-gray-700 mt-12 text-lg">
            هذا السؤال لتأكد من أنك ولي الأمر{" "}
          </p>
        </>
      ) : (
        <div className="fixed inset-0 z-50 flex items-center justify-center ">
          {/* Overlay + Blur */}
          <div
            className="
      absolute inset-0
      bg-black/40
      backdrop-blur-xs
      transition-opacity
      duration-300
    "
          ></div>

          {/* Popup Card */}
          <div className="relative w-[95%] max-w-md bg-[#EAF2FF] rounded-3xl p-6 text-center shadow-xl transform transition-all duration-300 ease-out scale-90 opacity-100 animate-popup-in flex flex-col items-center">
            {/* Success Icon */}
            <div className="flex justify-center mb-4">
              <div className="w-15 h-15 flex items-center justify-center rounded-full bg-white">
                {/* SVG success icon */}
                <svg
                  width="32"
                  height="32"
                  viewBox="0 0 32 32"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M29.0681 13.3333C29.6771 16.3217 29.2431 19.4286 27.8386 22.1357C26.4341 24.8429 24.144 26.9867 21.3501 28.2097C18.5563 29.4328 15.4276 29.661 12.4859 28.8565C9.5441 28.0519 6.96705 26.2632 5.1845 23.7885C3.40195 21.3139 2.52163 18.303 2.69035 15.2578C2.85907 12.2127 4.06664 9.31744 6.11167 7.05488C8.1567 4.79232 10.9156 3.29923 13.9282 2.82459C16.9409 2.34995 20.0252 2.92247 22.6668 4.44665"
                    stroke="#256EE8"
                    strokeWidth="2"
                    strokeLinecap="round"
                    strokeLinejoin="round"
                  />
                  <path
                    d="M12 14.6667L16 18.6667L29.3333 5.33333"
                    stroke="#256EE8"
                    strokeWidth="2"
                    strokeLinecap="round"
                    strokeLinejoin="round"
                  />
                </svg>
              </div>
            </div>

            {/* Title */}
            <h2 className="text-3xl font-bold text-gray-900 mb-2">
              تم التحقق بنجاح
            </h2>

            {/* Description */}
            <p className="text-gray-600 text-xl mb-6 leading-relaxed">
              يمكنك الآن الاطلاع على الباقات المتاحة
              <br />
              واختيار الأنسب لطفلك
            </p>

            {/* Button in center */}
            <div className="w-full flex justify-center">
              <button
                onClick={() => onNavigate("premium-plans")}
                className="flex justify-center items-center text-lg"
              >
                <svg
                  width="297"
                  height="49"
                  viewBox="0 0 297 49"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <rect
                    y="5"
                    width="297"
                    height="44"
                    rx="22"
                    fill="url(#paint0_linear_0_1)"
                  />
                  <rect
                    y="5"
                    width="297"
                    height="44"
                    rx="22"
                    fill="black"
                    fillOpacity="0.2"
                  />
                  <rect
                    width="297"
                    height="44"
                    rx="22"
                    fill="url(#paint1_linear_0_1)"
                  />
                  <path
                    d="M81.2392 15.46C80.9192 15.46 80.6632 15.364 80.4712 15.172C80.2792 14.98 80.1832 14.7187 80.1832 14.388C80.1832 13.6947 80.5352 13.348 81.2392 13.348C81.5592 13.348 81.8099 13.444 81.9912 13.636C82.1832 13.8173 82.2792 14.068 82.2792 14.388C82.2792 15.1027 81.9325 15.46 81.2392 15.46ZM83.7032 15.46C83.3832 15.46 83.1272 15.364 82.9352 15.172C82.7432 14.98 82.6472 14.7187 82.6472 14.388C82.6472 13.6947 82.9992 13.348 83.7032 13.348C84.0232 13.348 84.2739 13.444 84.4552 13.636C84.6472 13.8173 84.7432 14.068 84.7432 14.388C84.7432 15.1027 84.3965 15.46 83.7032 15.46ZM86.4072 22.564H87.8472V24.5H86.2152C85.2232 24.5 84.4552 24.1693 83.9112 23.508C83.4525 23.86 82.8925 24.036 82.2312 24.036C81.2499 24.036 80.4659 23.668 79.8792 22.932C79.3992 22.324 79.1592 21.5933 79.1592 20.74C79.1592 19.684 79.5005 18.8253 80.1832 18.164C80.7592 17.6093 81.4259 17.332 82.1832 17.332C82.5779 17.332 82.9405 17.4067 83.2712 17.556V17.14L85.2712 16.084V21.412C85.2712 21.828 85.3565 22.1267 85.5272 22.308C85.7085 22.4787 86.0019 22.564 86.4072 22.564ZM83.2712 19.572C82.9939 19.3373 82.6792 19.22 82.3272 19.22C81.9752 19.22 81.6872 19.364 81.4632 19.652C81.2499 19.94 81.1432 20.3187 81.1432 20.788C81.1432 21.2573 81.2499 21.6307 81.4632 21.908C81.6765 22.1853 81.9699 22.324 82.3432 22.324C82.7485 22.324 83.0632 22.1853 83.2872 21.908C83.2765 21.8227 83.2712 21.6893 83.2712 21.508V19.572ZM86.5187 24.5V22.564H88.9027C90.78 22.564 92.2734 22.004 93.3827 20.884C92.6574 19.6147 91.7774 18.98 90.7427 18.98C89.8894 18.98 88.956 19.444 87.9427 20.372V18.596C88.8387 17.6147 89.852 17.124 90.9827 17.124C91.8147 17.124 92.6254 17.428 93.4147 18.036C94.204 18.644 94.9027 19.508 95.5107 20.628V21.428C94.7427 22.4093 93.7827 23.1667 92.6307 23.7C91.4894 24.2333 90.2414 24.5 88.8867 24.5H86.5187ZM100.327 24.5C99.3565 24.5 98.6045 24.1907 98.0712 23.572C97.6125 23.0387 97.3832 22.3507 97.3832 21.508V15.236L99.3992 14.18V21.412C99.3992 21.828 99.4845 22.1267 99.6552 22.308C99.8259 22.4787 100.114 22.564 100.519 22.564H101.959V24.5H100.327ZM102.146 15.988C101.826 15.988 101.57 15.892 101.378 15.7C101.186 15.508 101.09 15.2467 101.09 14.916C101.09 14.6067 101.186 14.356 101.378 14.164C101.57 13.972 101.826 13.876 102.146 13.876C102.466 13.876 102.717 13.972 102.898 14.164C103.09 14.3453 103.186 14.596 103.186 14.916C103.186 15.6307 102.84 15.988 102.146 15.988ZM104.594 15.988C104.274 15.988 104.018 15.892 103.826 15.7C103.634 15.4973 103.538 15.236 103.538 14.916C103.538 14.6067 103.634 14.356 103.826 14.164C104.029 13.972 104.285 13.876 104.594 13.876C104.914 13.876 105.165 13.972 105.346 14.164C105.538 14.3453 105.634 14.596 105.634 14.916C105.634 15.6307 105.288 15.988 104.594 15.988ZM106.322 22.564H107.762V24.5H106.13C105.352 24.5 104.706 24.292 104.194 23.876C103.682 24.292 103.037 24.5 102.258 24.5H100.626V22.564H102.066C102.472 22.564 102.76 22.4787 102.93 22.308C103.101 22.1267 103.186 21.828 103.186 21.412V18.452L105.202 17.396V21.412C105.202 21.828 105.288 22.1267 105.458 22.308C105.629 22.4787 105.917 22.564 106.322 22.564ZM116.606 22.564H118.03V24.5H116.398C115.63 24.5 115.001 24.3027 114.51 23.908C113.934 24.516 113.177 24.82 112.238 24.82C111.278 24.82 110.521 24.516 109.966 23.908C109.454 24.3027 108.82 24.5 108.062 24.5H106.43V22.564H107.87C108.276 22.564 108.564 22.4787 108.734 22.308C108.905 22.1267 108.99 21.828 108.99 21.412V20.948C108.99 19.7 109.316 18.7293 109.966 18.036C110.532 17.428 111.289 17.124 112.238 17.124C113.316 17.124 114.148 17.5187 114.734 18.308C115.225 18.98 115.47 19.86 115.47 20.948V21.412C115.47 21.828 115.556 22.1267 115.726 22.308C115.908 22.4787 116.201 22.564 116.606 22.564ZM112.238 22.884C113.049 22.884 113.454 22.2227 113.454 20.9C113.454 19.6307 113.049 18.996 112.238 18.996C111.417 18.996 111.006 19.6307 111.006 20.9C111.006 22.2227 111.417 22.884 112.238 22.884ZM116.703 24.5V22.564H117.711C118.202 22.564 118.548 22.4573 118.751 22.244C118.964 22.0307 119.071 21.668 119.071 21.156V15.252L121.071 14.18V21.172C121.071 22.2067 120.756 23.0333 120.127 23.652C119.551 24.2173 118.783 24.5 117.823 24.5H116.703ZM123.583 24.5V15.252L125.599 14.18V24.5H123.583ZM135.933 17.06C135.613 17.06 135.357 16.964 135.165 16.772C134.973 16.5693 134.877 16.308 134.877 15.988C134.877 15.6787 134.973 15.428 135.165 15.236C135.357 15.044 135.613 14.948 135.933 14.948C136.253 14.948 136.504 15.044 136.685 15.236C136.877 15.4173 136.973 15.668 136.973 15.988C136.973 16.7027 136.627 17.06 135.933 17.06ZM138.397 17.06C138.077 17.06 137.821 16.964 137.629 16.772C137.437 16.58 137.341 16.3187 137.341 15.988C137.341 15.2947 137.693 14.948 138.397 14.948C138.717 14.948 138.968 15.044 139.149 15.236C139.341 15.4173 139.437 15.668 139.437 15.988C139.437 16.7027 139.091 17.06 138.397 17.06ZM134.397 24.5C133.491 24.5 132.781 24.196 132.269 23.588C131.811 23.0547 131.581 22.3667 131.581 21.524V19.892L133.581 18.836V21.396C133.581 21.8227 133.667 22.1267 133.837 22.308C134.019 22.4787 134.312 22.564 134.717 22.564H139.933C140.339 22.564 140.627 22.4733 140.797 22.292C140.968 22.1107 141.053 21.812 141.053 21.396V18.452L143.069 17.396V21.524C143.069 22.4947 142.765 23.252 142.157 23.796C141.624 24.2653 140.941 24.5 140.109 24.5H134.397ZM148.532 24.5C147.562 24.5 146.81 24.1907 146.276 23.572C145.818 23.0387 145.588 22.3507 145.588 21.508V15.236L147.604 14.18V21.412C147.604 21.828 147.69 22.1267 147.86 22.308C148.031 22.4787 148.319 22.564 148.724 22.564H150.164V24.5H148.532ZM152.912 15.988C152.592 15.988 152.336 15.892 152.144 15.7C151.952 15.508 151.856 15.2467 151.856 14.916C151.856 14.2227 152.208 13.876 152.912 13.876C153.232 13.876 153.482 13.972 153.664 14.164C153.856 14.3453 153.952 14.596 153.952 14.916C153.952 15.6307 153.605 15.988 152.912 15.988ZM155.376 15.988C155.056 15.988 154.8 15.892 154.608 15.7C154.416 15.508 154.32 15.2467 154.32 14.916C154.32 14.2227 154.672 13.876 155.376 13.876C155.696 13.876 155.946 13.972 156.128 14.164C156.32 14.3453 156.416 14.596 156.416 14.916C156.416 15.6307 156.069 15.988 155.376 15.988ZM148.832 24.5V22.564H151.392C151.072 22.0947 150.912 21.508 150.912 20.804C150.912 19.6307 151.232 18.7027 151.872 18.02C152.448 17.4227 153.2 17.124 154.128 17.124C155.077 17.124 155.813 17.428 156.336 18.036C156.805 18.5587 157.04 19.2413 157.04 20.084V21.524C157.029 22.4413 156.757 23.1667 156.224 23.7C155.701 24.2333 154.992 24.5 154.096 24.5H148.832ZM155.024 20.052C155.024 19.348 154.725 18.996 154.128 18.996C153.306 18.996 152.896 19.5773 152.896 20.74C152.896 21.956 153.29 22.564 154.08 22.564C154.709 22.564 155.024 22.2227 155.024 21.54V20.052ZM162.343 24.5C161.373 24.5 160.621 24.1907 160.087 23.572C159.629 23.0387 159.399 22.3507 159.399 21.508V15.236L161.415 14.18V21.412C161.415 21.828 161.501 22.1267 161.671 22.308C161.842 22.4787 162.13 22.564 162.535 22.564H163.975V24.5H162.343ZM168.339 22.564H169.779V24.5H168.147C167.368 24.5 166.723 24.292 166.211 23.876C165.699 24.292 165.053 24.5 164.275 24.5H162.643V22.564H164.083C164.488 22.564 164.776 22.4787 164.947 22.308C165.117 22.1267 165.203 21.828 165.203 21.412V18.452L167.219 17.396V21.412C167.219 21.828 167.304 22.1267 167.475 22.308C167.645 22.4787 167.933 22.564 168.339 22.564ZM166.307 25.956C166.627 25.956 166.877 26.0467 167.059 26.228C167.251 26.42 167.347 26.676 167.347 26.996C167.347 27.7107 167 28.068 166.307 28.068C165.987 28.068 165.731 27.972 165.539 27.78C165.347 27.588 165.251 27.3267 165.251 26.996C165.251 26.6867 165.347 26.436 165.539 26.244C165.731 26.052 165.987 25.956 166.307 25.956ZM168.446 24.5V22.564H169.454C169.945 22.564 170.292 22.4573 170.494 22.244C170.708 22.0307 170.814 21.668 170.814 21.156V15.252L172.814 14.18V21.172C172.814 22.2067 172.5 23.0333 171.87 23.652C171.294 24.2173 170.526 24.5 169.566 24.5H168.446ZM175.327 24.5V15.252L177.343 14.18V24.5H175.327ZM198.429 15.78C198.109 15.78 197.853 15.684 197.661 15.492C197.469 15.3 197.373 15.0387 197.373 14.708C197.373 14.3987 197.469 14.148 197.661 13.956C197.853 13.764 198.109 13.668 198.429 13.668C198.749 13.668 199 13.764 199.181 13.956C199.373 14.1373 199.469 14.388 199.469 14.708C199.469 15.4227 199.122 15.78 198.429 15.78ZM192.445 22.548C192.946 21.0013 193.693 19.7373 194.685 18.756C195.773 17.668 197.021 17.124 198.429 17.124C199.688 17.124 200.696 17.5613 201.453 18.436C202.093 19.172 202.413 20.084 202.413 21.172V21.524C202.413 22.4947 202.109 23.252 201.501 23.796C200.978 24.2653 200.301 24.5 199.469 24.5H192.557C192.194 24.5 191.858 24.452 191.549 24.356C191.346 25.38 190.829 26.1853 189.997 26.772C189.25 27.284 188.344 27.54 187.277 27.54C185.837 27.54 184.722 27.0333 183.933 26.02C183.314 25.2307 183.005 24.3027 183.005 23.236C183.005 22.3933 183.202 21.6573 183.597 21.028L185.517 20.628C185.09 21.3533 184.877 22.116 184.877 22.916C184.877 23.7267 185.106 24.3827 185.565 24.884C186.002 25.364 186.573 25.604 187.277 25.604C188.013 25.604 188.584 25.4173 188.989 25.044C189.405 24.6707 189.613 24.148 189.613 23.476V19.3L191.629 18.244V21.412C191.629 22.0947 191.901 22.4733 192.445 22.548ZM200.397 21.396V21.172C200.397 20.532 200.216 20.0093 199.853 19.604C199.49 19.1987 199.021 18.996 198.445 18.996C197.613 18.996 196.834 19.316 196.109 19.956C195.394 20.596 194.829 21.4653 194.413 22.564H199.389C199.773 22.564 200.034 22.484 200.173 22.324C200.322 22.1533 200.397 21.844 200.397 21.396ZM208.535 22.564H209.975V24.5H208.343C207.981 24.5 207.645 24.452 207.335 24.356C207.197 25.38 206.786 26.1907 206.103 26.788C205.485 27.3213 204.743 27.588 203.879 27.588C203.207 27.588 202.551 27.4173 201.911 27.076V25.316C202.466 25.6253 203.01 25.78 203.543 25.78C204.13 25.78 204.583 25.588 204.903 25.204C205.234 24.8307 205.399 24.308 205.399 23.636V18.452L206.711 17.764L207.399 17.396V17.412L207.415 17.396V21.412C207.415 21.828 207.501 22.1267 207.671 22.308C207.842 22.4787 208.13 22.564 208.535 22.564ZM217.517 22.564V24.5H208.653V22.564H211.021C210.723 21.9773 210.573 21.3267 210.573 20.612C210.573 19.4813 210.968 18.5853 211.757 17.924C212.397 17.3907 213.139 17.124 213.981 17.124C215.123 17.124 216.045 17.6147 216.749 18.596V20.372C215.971 19.4547 215.123 18.996 214.205 18.996C213.715 18.996 213.32 19.1507 213.021 19.46C212.733 19.7587 212.589 20.164 212.589 20.676C212.589 21.2627 212.771 21.7267 213.133 22.068C213.507 22.3987 214.013 22.564 214.653 22.564H217.517Z"
                    fill="#FFFCF3"
                  />
                  <defs>
                    <linearGradient
                      id="paint0_linear_0_1"
                      x1="0"
                      y1="27"
                      x2="297"
                      y2="27"
                      gradientUnits="userSpaceOnUse"
                    >
                      <stop stopColor="#488DFF" />
                      <stop offset="0.253635" stopColor="#3A52CC" />
                      <stop offset="0.5" stopColor="#4632B3" />
                      <stop offset="0.75" stopColor="#5A2FA6" />
                      <stop offset="1" stopColor="#662B99" />
                    </linearGradient>
                    <linearGradient
                      id="paint1_linear_0_1"
                      x1="0"
                      y1="22"
                      x2="297"
                      y2="22"
                      gradientUnits="userSpaceOnUse"
                    >
                      <stop stopColor="#488DFF" />
                      <stop offset="0.611788" stopColor="#3A52CC" />
                    </linearGradient>
                  </defs>
                </svg>
              </button>
            </div>
          </div>
        </div>
      )}
    </div>
  );
};
